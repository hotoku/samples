#standardSQL

-- unnestによって、どういうデータが返ってくるのか確認する

with t as (
  select 1 as a, [1,2,3] as b, [10, 20, 30] as c
)
select
  *
from
  t, unnest(b) as b_, unnest(c) as c_

-- +---+---------------+------------------+----+----+
-- | a |       b       |        c         | b_ | c_ |
-- +---+---------------+------------------+----+----+
-- | 1 | ["1","2","3"] | ["10","20","30"] |  1 | 10 |
-- | 1 | ["1","2","3"] | ["10","20","30"] |  1 | 20 |
-- | 1 | ["1","2","3"] | ["10","20","30"] |  1 | 30 |
-- | 1 | ["1","2","3"] | ["10","20","30"] |  2 | 10 |
-- | 1 | ["1","2","3"] | ["10","20","30"] |  2 | 20 |
-- | 1 | ["1","2","3"] | ["10","20","30"] |  2 | 30 |
-- | 1 | ["1","2","3"] | ["10","20","30"] |  3 | 10 |
-- | 1 | ["1","2","3"] | ["10","20","30"] |  3 | 20 |
-- | 1 | ["1","2","3"] | ["10","20","30"] |  3 | 30 |
-- +---+---------------+------------------+----+----+

-- 元のテーブルとunnestされた配列がcross joinされていると理解
